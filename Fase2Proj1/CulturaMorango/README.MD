# üçì Sistema de Irriga√ß√£o Inteligente para Morango (Wokwi/ESP32)

Este projeto simula um sistema de irriga√ß√£o automatizado e inteligente, implementado em um ESP32 (Wokwi), focado nas necessidades espec√≠ficas da cultura do **Morango** (*Fragaria √ó ananassa*). O objetivo √© ligar a bomba d'√°gua (LED azul) **apenas** quando o solo precisa de √°gua e as condi√ß√µes de crescimento (NPK e pH) s√£o ideais para a planta.

## ‚öôÔ∏è Componentes e Pinos Utilizados

| Componente (Simulado) | Pino ESP32 (GPIO) | Fun√ß√£o no Projeto |
| :--- | :--- | :--- |
| **Umidade** (DHT22) | **D23** | Sensor de Umidade e Temperatura. |
| **PH** (LDR) | **D35 (ADC)** | Simula o pH do solo atrav√©s da leitura anal√≥gica. |
| **Bomba d'√Ågua** (LED Azul) | **D18** | Sa√≠da para acionar a irriga√ß√£o. |
| **Nitrog√™nio (N)** | **D22** (Bot√£o Verde 1) | Simula a presen√ßa/aus√™ncia do nutriente N (NPK OK = N√£o pressionado). |
| **F√≥sforo (P)** | **D21** (Bot√£o Verde 2) | Simula a presen√ßa/aus√™ncia do nutriente P (NPK OK = N√£o pressionado). |
| **Pot√°ssio (K)** | **D19** (Bot√£o Verde 3) | Simula a presen√ßa/aus√™ncia do nutriente K (NPK OK = N√£o pressionado). |
| **Gatilho de Verifica√ß√£o** | **D4** (Bot√£o Vermelho) | Inicia o ciclo de medi√ß√£o e decis√£o. |

## üì∏ Diagrama do Circuito (Wokwi.com)

O diagrama a seguir demonstra as conex√µes f√≠sicas entre o ESP32, os sensores (DHT22 e LDR/pH), a bomba d'√°gua (LED) e os bot√µes NPK/Gatilho.

# üçì Sistema de Irriga√ß√£o Inteligente para Morango (Wokwi/ESP32)

Este projeto simula um sistema de irriga√ß√£o automatizado e inteligente, implementado em um ESP32 (Wokwi), focado nas necessidades espec√≠ficas da cultura do **Morango** (*Fragaria √ó ananassa*). O objetivo √© ligar a bomba d'√°gua (LED azul) **apenas** quando o solo precisa de √°gua e as condi√ß√µes de crescimento (NPK e pH) s√£o ideais para a planta.

## ‚öôÔ∏è Componentes e Pinos Utilizados

| Componente (Simulado) | Pino ESP32 (GPIO) | Fun√ß√£o no Projeto |
| :--- | :--- | :--- |
| **Umidade** (DHT22) | **D23** | Sensor de Umidade e Temperatura. |
| **PH** (LDR) | **D35 (ADC)** | Simula o pH do solo atrav√©s da leitura anal√≥gica. |
| **Bomba d'√Ågua** (LED Azul) | **D18** | Sa√≠da para acionar a irriga√ß√£o. |
| **Nitrog√™nio (N)** | **D22** (Bot√£o Verde 1) | Simula a presen√ßa/aus√™ncia do nutriente N (NPK OK = N√£o pressionado). |
| **F√≥sforo (P)** | **D21** (Bot√£o Verde 2) | Simula a presen√ßa/aus√™ncia do nutriente P (NPK OK = N√£o pressionado). |
| **Pot√°ssio (K)** | **D19** (Bot√£o Verde 3) | Simula a presen√ßa/aus√™ncia do nutriente K (NPK OK = N√£o pressionado). |
| **Gatilho de Verifica√ß√£o** | **D4** (Bot√£o Vermelho) | Inicia o ciclo de medi√ß√£o e decis√£o. |

## üì∏ Diagrama do Circuito (Wokwi.com)

O diagrama a seguir demonstra as conex√µes f√≠sicas entre o ESP32, os sensores (DHT22 e LDR/pH), a bomba d'√°gua (LED) e os bot√µes NPK/Gatilho.

![Diagrama de circuito do projeto de irriga√ß√£o no Wokwi.com, mostrando as conex√µes do ESP32 com DHT22, LDR, LED azul e quatro bot√µes.](assets/image_30894b.png)

## üå± Especifica√ß√µes da Cultura: Morango

O Morango √© uma cultura sens√≠vel que requer solo **√°cido** e umidade constante, mas sem excesso.

| Par√¢metro | Requisito da Cultura | Faixa de Decis√£o no C√≥digo V8 |
| :--- | :--- | :--- |
| **Umidade do Solo** | Manter sempre √∫mido. | **< 40%** (Precisa Regar) |
| **PH do Solo** | Solo **√°cido** (ideal 5.5 a 6.5). | **1024 a 2048** (Escala anal√≥gica de 0-4095) |
| **NPK** | Alto requisito de P e K. | **Todos OK** (Nenhum bot√£o de N, P ou K pressionado) |

## üß† L√≥gica de Decis√£o (C/C++)

A l√≥gica implementada garante que a bomba s√≥ seja acionada em condi√ß√µes de **necessidade** (√°gua baixa) **E** **qualidade** (pH e NPK adequados). A rega √© um evento de 3 segundos acionado pelo bot√£o D4 (Gatilho).

```cpp
// A bomba S√ì liga se TODAS as condi√ß√µes forem TRUE.

bool precisa_regar = (umidade < UMIDADE_MINIMA); 
bool ph_aceitavel = (leitura_ph >= 1024 && leitura_ph <= 2048); 
bool npk_adequado = (N_OK && P_OK && K_OK); 

if (precisa_regar) {
    if (npk_adequado && ph_aceitavel) {
        // CONDI√á√ÉO PARA LIGAR A BOMBA: √Ågua baixa E Qualidade OK.
        digitalWrite(PINO_BOMBA, HIGH); 
        // ... rega por 3 segundos
    } else {
        // CONDI√á√ÉO PARA N√ÉO REGAR: Umidade baixa, mas NPK ou PH Falhando.
        digitalWrite(PINO_BOMBA, LOW); 
    }
} else {
    // Umidade OK ou Alta.
    digitalWrite(PINO_BOMBA, LOW);
}

## üå± Especifica√ß√µes da Cultura: Morango

O Morango √© uma cultura sens√≠vel que requer solo **√°cido** e umidade constante, mas sem excesso.

| Par√¢metro | Requisito da Cultura | Faixa de Decis√£o no C√≥digo V8 |
| :--- | :--- | :--- |
| **Umidade do Solo** | Manter sempre √∫mido. | **< 40%** (Precisa Regar) |
| **PH do Solo** | Solo **√°cido** (ideal 5.5 a 6.5). | **1024 a 2048** (Escala anal√≥gica de 0-4095) |
| **NPK** | Alto requisito de P e K. | **Todos OK** (Nenhum bot√£o de N, P ou K pressionado) |

## üß† L√≥gica de Decis√£o (C/C++)

A l√≥gica implementada garante que a bomba s√≥ seja acionada em condi√ß√µes de **necessidade** (√°gua baixa) **E** **qualidade** (pH e NPK adequados). A rega √© um evento de 3 segundos acionado pelo bot√£o D4 (Gatilho).

```cpp
// A bomba S√ì liga se TODAS as condi√ß√µes forem TRUE.

bool precisa_regar = (umidade < UMIDADE_MINIMA); 
bool ph_aceitavel = (leitura_ph >= 1024 && leitura_ph <= 2048); 
bool npk_adequado = (N_OK && P_OK && K_OK); 

if (precisa_regar) {
    if (npk_adequado && ph_aceitavel) {
        // CONDI√á√ÉO PARA LIGAR A BOMBA: √Ågua baixa E Qualidade OK.
        digitalWrite(PINO_BOMBA, HIGH); 
        // ... rega por 3 segundos
    } else {
        // CONDI√á√ÉO PARA N√ÉO REGAR: Umidade baixa, mas NPK ou PH Falhando.
        digitalWrite(PINO_BOMBA, LOW); 
    }
} else {
    // Umidade OK ou Alta.
    digitalWrite(PINO_BOMBA, LOW);
}